<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Testing</title>
    <link href="bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            margin-top: 60px;
        }
    </style>
</head>
<body>    
    
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#" onclick="router.route();">Project name</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li><a href="#" onclick="router.route();">Home</a></li>
                <li><a href="#" onclick="router.route('user/1/edit');">Edit Profile</a></li>
                <li><a href="#" onclick="router.route('user/1/delete');">Delete Profile</a></li>
                <li><a href="#" onclick="router.route('file/in/this/dir.txt');">Find File</a></li>
            </ul>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    
    <div class="jumbotron">
        <div class="container">
            <h1>Responses</h1>
        </div>
    </div>

    <div class="container">
        <ul id="output"></ul>
        <small class="muted">
            In the console use the router global variable to add more routes and play around!
            <br>
            Click the links above to activate some routes - very basic responses, mind you!
        </small>
    </div>
    
    <script src="router.js"></script>
    <script>
        var router = new Router({
            home: () => addBody('Hello, World'),

            // /user
            'user(/:some)/:user_id': {
                edit: [
                    (some, user_id) => addBody(`editing user ${user_id}`),
                    (some, user_id) => addBody(some || 'todo'),
                    (some, user_id) => addBody(user_id)
                ],

                delete: [
                    (some, user_id) => addBody(`deleting user ${user_id}`),
                    (some, user_id) => addBody(some || 'todo')
                ]
            },

            about: {
                profile: {
                    'hero-one': () => console.log('hero one'),

                    'hero-two': () => console.log('hero two'),

                    'super-heroes': {
                        'super-one': () => console.log('super hero one'),

                        'super-two': () => console.log('super hero two')
                    }
                },
                '': () => console.log('no heros here, nope.')
            },

            'file/*file': file => addBody(file)
        });

        const el = document.getElementById('output');

        function addBody(output) {
            el.innerHTML = `${el.innerHTML}<li>${output}</li>`;
            return output;
        } 
    </script>
</body>
</html>