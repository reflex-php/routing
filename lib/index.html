<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Testing</title>
</head>
<body>
    <script src="router.js"></script>
    <a href="#" onclick="router.route();">Home</a>
    <a href="#" onclick="router.route('user/1/edit');">Edit Profile</a>
    <a href="#" onclick="router.route('user/1/delete');">Delete Profile</a>
    <div id="output"></div>

    <script>
        var router = new Router({
            'home': () => {
                var uri = router.url('user/:user_id/:some/edit', {user_id: 1, some: 'todo'});
                addBody(uri);
                router.route(uri);

                return true;
            },

            // /user
            'user/:user_id/:some?': {
                edit: [
                    (user_id, some) => {
                        addBody(`editing user ${user_id} - ${some}`);
                        return true;
                    },
                    (user_id, some) => {
                        addBody(user_id);
                        return true;
                    },
                ],

                delete: (user_id, some) => {
                    // var some = some || 'ooops'; 
                    addBody(`deleting user ${user_id} ---- ${some}`)
                }
            },

            about: () => addBody('about'),

            'smoosh/*': i => addBody(i)
        });

        router.where('user_id', '[0-9]+');

        const el = document.getElementById('output');

        function addBody(output) {
            el.innerText = `${el.innerText}\n${output}`;
        } 
    </script>
</body>
</html>